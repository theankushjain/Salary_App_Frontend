<div class="salary-details-container">
  <h2>Add Salary Details</h2>

  <form [formGroup]="addSalaryForm" (ngSubmit)="onSubmit()">
    <mat-form-field>
      <mat-label>User</mat-label>
        <input matInput type="text" [readonly]="true" formControlName="userId" value={{data.id}}>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Pay Level</mat-label>
      <input matInput type="number" formControlName="payLevel" />
    </mat-form-field>

    <div class="date-inputs">
      <mat-form-field>
        <mat-label>Year</mat-label>
        <input matInput type="number" formControlName="year" />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Month</mat-label>
        <input matInput type="number" formControlName="month" />
      </mat-form-field>
    </div>

    <mat-form-field>
      <mat-label>Days Present</mat-label>
      <input matInput type="number" formControlName="daysPresent" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Basic Pay</mat-label>
      <input matInput type="number" formControlName="basicPay" />
    </mat-form-field>

    <div class="allowances-deductions">
      <div class="allowances">
        <h3>Allowances</h3>
        <div formArrayName="allowances" *ngFor="let allowance of allowances.controls; let i=index">
          <div [formGroupName]="i" class="allowance-item">
            <mat-form-field>
              <mat-label>Allowance Name</mat-label>
              <input matInput type="text" formControlName="nameOfAllowance" />
            </mat-form-field>
            <mat-form-field>
              <mat-label>Allowance Amount</mat-label>
              <input matInput type="number" formControlName="amountOfAllowance" />
            </mat-form-field>
            <button mat-icon-button (click)="removeAllowance(i)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </div>
        <button mat-raised-button (click)="addAllowance()">Add Allowance</button>
      </div>

      <div class="deductions">
        <h3>Deductions</h3>
        <div formArrayName="deductions" *ngFor="let deduction of deductions.controls; let i=index">
          <div [formGroupName]="i" class="deduction-item">
            <mat-form-field>
              <mat-label>Deduction Name</mat-label>
              <input matInput type="text" formControlName="nameOfDeduction" />
            </mat-form-field>
            <mat-form-field>
              <mat-label>Deduction Amount</mat-label>
              <input matInput type="number" formControlName="amountOfDeduction" />
            </mat-form-field>
            <button mat-icon-button (click)="removeDeduction(i)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </div>
        <button mat-raised-button (click)="addDeduction()">Add Deduction</button>
      </div>
    </div>

    <div class="actions">
      <button mat-raised-button type="submit" [disabled]="addSalaryForm.invalid">Save</button>
      <button mat-stroked-button type="button" (click)="resetForm()">Reset</button>
    </div>
  </form>
</div>